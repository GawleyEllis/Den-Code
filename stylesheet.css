let addSpaces = false;

function convertToHex() {
    const inputText = document.getElementById('inputText').value;
    const resultElement = document.getElementById('hexResult');
    let sjisArray = Encoding.convert(Encoding.stringToCode(inputText), 'SJIS');
    let hexResult = '';
    for (let i = 0; i < sjisArray.length; i++) {
        let hex = sjisArray[i].toString(16).toUpperCase();
        hex = ('00' + hex).slice(-2);
        hexResult += hex;
        if (addSpaces && i < sjisArray.length - 1) {
            hexResult += ' ';
        }
    }
    resultElement.textContent = hexResult;
}

function toggleSpaces() {
    addSpaces = !addSpaces;
    convertToHex();
}

function convertCase(caseType) {
    const resultElement = document.getElementById('hexResult');
    if (caseType === 'upper') {
        resultElement.textContent = resultElement.textContent.toUpperCase();
    } else if (caseType === 'lower') {
        resultElement.textContent = resultElement.textContent.toLowerCase();
    }
}
